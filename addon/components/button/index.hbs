{{import Loading from '../loading'}}
{{import or from 'ember-truth-helpers/helpers/or'}}
{{import styles from './styles.scoped.scss'}}
{{import Confirm from 'carbon-components-ember/components/dialogs/confirm'}}


<button ...attributes
        onclick={{this.onButtonClick}}
        class="cds--btn {{this.bxClassNames}} {{styles.namespace}} {{if (or this.loading @loading) 'cds--btn--ghost'}}"
        aria-label="{{if @type 'danger'}}"
        disabled={{or @disabled this.loading @loading}}
        type="button">
  {{#if this.showDialog}}
    {{#let (or @confirmDialog Confirm) as |Dialog|}}
      {{#in-element this.dialogManager.destinationElement}}
        <Dialog @onAccept={{this.runButtonClick}} @onCancel={{this.cancel}} @header="Danger" @body={{or @confirmText 'Confirm this operation'}} @type="danger"></Dialog>
      {{/in-element}}
    {{/let}}
  {{/if}}
  {{#if (or this.loading @loading)}}
    <Loading @inline={{true}} />
  {{else}}
    {{#if (has-block)}}
      {{yield}}
    {{else}}
      {{@label}}
    {{/if}}
  {{/if}}
</button>
